Metadata-Version: 2.1
Name: lozzalingo
Version: 0.2.0
Summary: A modular Flask admin dashboard framework with analytics, authentication, and more
Home-page: https://github.com/yourusername/lozzalingo
Author: Laurence Stephan
Author-email: your.email@example.com
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Framework :: Flask
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: Flask>=3.0.0
Requires-Dist: Flask-SQLAlchemy>=3.0.0
Requires-Dist: Flask-CORS>=4.0.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: requests>=2.28.0
Requires-Dist: PyYAML>=6.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: pytest-flask>=1.2; extra == "dev"
Requires-Dist: black>=22.0; extra == "dev"
Requires-Dist: flake8>=5.0; extra == "dev"

# Lozzalingo

A modular, reusable Flask admin dashboard framework.

## Features

### Admin Modules
- **Analytics Module**: Track visitor behavior, device types, referrers, and more
- **Authentication Module**: User login, session management, password changes
- **Dashboard Module**: Unified admin interface
- **News Module** (Admin): Create, edit, and manage news articles and blog posts
- **Orders Module**: Manage customer orders and email confirmations
- **Merchandise Module**: Product management for online stores

### Public Frontend Modules
- **News Public Module**: Public-facing blog/news display with template override support
  - Framework provides: Backend routes, database queries, content formatting
  - Projects provide: Custom styled templates matching site design
- **Customer Spotlight Module**: Instagram-style customer gallery with infinite scroll
  - Horizontal carousel showcasing customer photos
  - Admin interface for managing spotlight entries
  - Generic base styles with per-project override support
- **Email Module**: Configurable email service with Resend API
  - Welcome, purchase, shipping, news notification templates
  - Admin preview interface for all templates
  - Configurable branding (name, tagline, colors)
- **External API Module**: API key authenticated endpoints for external integrations
  - API key generation and management
  - Token-based authentication for external requests
  - Blog post creation/management via external API
  - Admin interface for managing API keys

More modules coming soon!

## Installation

Install in editable mode for development:

```bash
pip install -e /path/to/lozzalingo-framework
```

Or install from source:

```bash
cd /path/to/lozzalingo-framework
pip install .
```

## Quick Start

### 1. Import and Register Blueprints

```python
from flask import Flask
from lozzalingo.modules.analytics import analytics_bp
from lozzalingo.modules.auth import auth_bp

app = Flask(__name__)

# Register blueprints
app.register_blueprint(analytics_bp, url_prefix='/admin/analytics')
app.register_blueprint(auth_bp, url_prefix='/admin')
```

### 2. Configure Your App

```python
app.config['SECRET_KEY'] = 'your-secret-key'
app.config['USER_DB'] = 'path/to/your/database.db'
```

### 3. Run Your App

```python
if __name__ == '__main__':
    app.run(debug=True)
```

## Module Details

### Analytics Module

Provides comprehensive analytics tracking:
- Page views and unique visitors
- Device detection (desktop, mobile, tablet)
- Geographic location tracking
- Referrer tracking
- Custom event tracking

**Usage:**
```python
from lozzalingo.modules.analytics import analytics_bp, Analytics

app.register_blueprint(analytics_bp, url_prefix='/admin/analytics')

# Track events in your routes
Analytics.track_event(request, 'page_view', metadata={'page': 'home'})
```

### Auth Module

Provides admin authentication:
- Login/logout
- Session management
- Password change functionality
- Admin creation

**Usage:**
```python
from lozzalingo.modules.auth import auth_bp

app.register_blueprint(auth_bp, url_prefix='/admin')
```

Access:
- Login: `/admin/login`
- Dashboard: `/admin/dashboard`
- Change Password: `/admin/change-password`

### News Module (Admin)

Admin interface for managing news articles and blog posts:
- Create, edit, and delete articles
- Draft/published workflow
- Image upload support
- Slug generation
- Email tracking

**Usage:**
```python
from lozzalingo.modules.news import news_bp

app.register_blueprint(news_bp)  # Registers at /admin/news-editor
```

Access:
- News Editor: `/admin/news-editor`

### News Public Module

Public-facing blog/news display with template override support:
- Blog listing pages (`/news/blog`)
- Individual blog posts (`/news/<slug>`)
- Markdown-style content formatting
- Related articles
- Social sharing buttons

**Usage:**
```python
from lozzalingo.modules.news_public import news_public_bp

app.register_blueprint(news_public_bp)  # Registers at /news
```

**Template Override Pattern:**

The framework provides minimal base templates. Projects override them with custom styling:

```
your_project/
└── templates/
    └── news_public/
        ├── blog.html          # Override blog listing
        ├── blog_post.html     # Override individual post
        └── news.html          # Override news listing
```

Access:
- Blog listing: `/news/blog`
- News listing: `/news/`
- Individual posts: `/news/<slug>`
- API: `/news/api/articles`

### Customer Spotlight Module

Instagram-style customer photo gallery with infinite-scroll horizontal carousel:
- Public API endpoint for fetching spotlight data
- Admin interface for managing entries
- Generic base styles (override per-project for custom branding)
- Responsive design for mobile and desktop

**Usage:**
```python
from lozzalingo.modules.customer_spotlight import customer_spotlight_bp

app.register_blueprint(customer_spotlight_bp)
```

**Include in templates:**
```html
<div id="customer-spotlight">
    {% include 'customer_spotlight/spotlight_section.html' %}
</div>
```

**Custom styling:** Create a project-specific `spotlight.css` that overrides the generic base styles. See INTEGRATION.md for detailed styling instructions.

Access:
- Public API: `/api/customer-spotlight`
- Admin Editor: `/admin/customer-spotlight-editor`

### Email Module

Configurable email service using Resend API with template preview:
- Welcome, purchase confirmation, shipping, news notification templates
- Admin preview interface for all email templates
- Configurable branding (brand name, tagline, website URL)
- Email logging to SQLite database

**Usage:**
```python
from lozzalingo.modules.email import email_preview_bp, email_service

app.config['RESEND_API_KEY'] = 'your-api-key'
app.config['EMAIL_ADDRESS'] = 'noreply@yourdomain.com'
app.config['EMAIL_BRAND_NAME'] = 'Your Brand'

email_service.init_app(app)
app.register_blueprint(email_preview_bp)
```

Access:
- Email Preview: `/admin/email-preview/`

### External API Module

API key authenticated endpoints for external integrations (e.g., publishing blog posts from an external CMS):
- API key generation with secure hashing
- Token-based authentication via `X-API-Key` header
- Full CRUD operations on articles
- Admin interface for key management

**Usage:**
```python
from lozzalingo.modules.external_api import external_api_bp, external_api_admin_bp

# Public API (API key auth)
app.register_blueprint(external_api_bp)  # Registers at /api/external

# Admin interface for managing API keys
app.register_blueprint(external_api_admin_bp)  # Registers at /admin/api-keys
```

**External API Endpoints:**
```
POST   /api/external/articles      - Create new article
GET    /api/external/articles      - List all articles
GET    /api/external/articles/<id> - Get single article
PUT    /api/external/articles/<id> - Update article
DELETE /api/external/articles/<id> - Delete article
```

**Authentication:**
Include your API key in the request header:
```
X-API-Key: lzl_your_api_key_here
```

**Example Request (Create Article):**
```bash
curl -X POST https://your-site.com/api/external/articles \
  -H "Content-Type: application/json" \
  -H "X-API-Key: lzl_your_api_key_here" \
  -d '{
    "title": "My Article Title",
    "content": "<p>Article content here...</p>",
    "status": "published"
  }'
```

Access:
- API Keys Manager: `/admin/api-keys`

## Development

### Project Structure

```
lozzalingo/
├── lozzalingo/
│   ├── __init__.py
│   ├── core/              # Shared utilities
│   └── modules/
│       ├── analytics/     # Analytics module
│       │   ├── templates/
│       │   ├── static/
│       │   └── *.py
│       ├── auth/          # Authentication module
│       │   ├── templates/
│       │   └── *.py
│       └── dashboard/     # Dashboard module
├── setup.py
└── README.md
```

### Contributing

This is currently an extraction from the Mario Pinto project. More modules will be added over time.

## License

MIT License

## Author

Laurence Stephan
